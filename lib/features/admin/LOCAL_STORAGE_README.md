# ๐๏ธ ูุธุงู ุงูุชุฎุฒูู ุงููุญูู ุจุงุณุชุฎุฏุงู Hive

## ๐ ูุธุฑุฉ ุนุงูุฉ

ุชู ุฅูุดุงุก ูุธุงู ุชุฎุฒูู ูุญูู ุดุงูู ูุฌููุน ุตูุญุงุช ุงูุฅุฏุงุฑุฉ ุจุงุณุชุฎุฏุงู **Hive** ูุชูููุฑ:
- **ุณุฑุนุฉ ุงูุงุณุชุฌุงุจุฉ** - ุงูุจูุงูุงุช ูุชุงุญุฉ ููุฑุงู
- **ุชูููุฑ ุงูุจูุงูุงุช** - ุชูููู ุงุณุชููุงู ุงูุฅูุชุฑูุช
- **ุงูุนูู ุจุฏูู ุฅูุชุฑูุช** - ุฅููุงููุฉ ุงูุนูู offline
- **ุฅุฏุงุฑุฉ ุงูู Cache** - ุตูุงุญูุฉ ูุญุฏุฏุฉ ููุจูุงูุงุช

## ๐๏ธ ุงูุจููุฉ ุงููุนูุงุฑูุฉ

### ๐ Local DataSources

```
lib/features/admin/presentation/pages/
โโโ add_items/
โ   โโโ data/datasources/
โ       โโโ product_local_data_source.dart โ
โโโ add_category/
โ   โโโ data/datasources/
โ       โโโ category_local_data_source.dart โ
โโโ menu/
โ   โโโ data/datasources/
โ       โโโ menu_local_data_source.dart โ
โโโ meal_times/
โ   โโโ data/datasources/
โ       โโโ meal_time_local_data_source.dart โ
โโโ dashbord/
    โโโ data/datasources/
        โโโ dashboard_local_data_source.dart โ
```

## ๐ง ุงูููุฒุงุช ุงููุชุงุญุฉ

### 1. **ProductLocalDataSource** - ุงูููุชุฌุงุช
- โ ุญูุธ ุงูููุชุฌุงุช ูุญููุงู
- โ ุฌูุจ ุงูููุชุฌุงุช ูู ุงูุชุฎุฒูู ุงููุญูู
- โ ุงูุจุญุซ ูู ุงูููุชุฌุงุช
- โ ุฌูุจ ุงูููุชุฌุงุช ุญุณุจ ุงููุฆุฉ
- โ ุฌูุจ ุงูููุชุฌุงุช ุงููููุฒุฉ
- โ ุชุญุฏูุซ ุญุงูุฉ ุชููุฑ ุงูููุชุฌ
- โฐ ูุฏุฉ ุงูู cache: 2 ุณุงุนุฉ

### 2. **CategoryLocalDataSource** - ุงููุฆุงุช
- โ ุญูุธ ุงููุฆุงุช ุงูุฑุฆูุณูุฉ ูุงููุฑุนูุฉ
- โ ุฌูุจ ุงููุฆุงุช ุงููุดุทุฉ ููุท
- โ ุงูุจุญุซ ูู ุงููุฆุงุช
- โ ุชุญุฏูุซ ุญุงูุฉ ูุดุงุท ุงููุฆุฉ
- โ ุฌูุจ ุงููุฆุงุช ุงููุฑุนูุฉ ููุฆุฉ ุฑุฆูุณูุฉ
- โฐ ูุฏุฉ ุงูู cache: 3 ุณุงุนุงุช

### 3. **MenuLocalDataSource** - ุงูููุงุฆู
- โ ุญูุธ ุนูุงุตุฑ ุงููุงุฆูุฉ
- โ ุฌูุจ ุงูุนูุงุตุฑ ุงููุชุงุญุฉ ููุท
- โ ุงูุจุญุซ ูู ุงูููุงุฆู
- โ ุฌูุจ ุงูุนูุงุตุฑ ุญุณุจ ุงููุฆุฉ
- โ ุชุญุฏูุซ ุญุงูุฉ ุชููุฑ ุงูุนูุตุฑ
- โฐ ูุฏุฉ ุงูู cache: 2 ุณุงุนุฉ

### 4. **MealTimeLocalDataSource** - ุฃููุงุช ุงููุฌุจุงุช
- โ ุญูุธ ุฃููุงุช ุงููุฌุจุงุช
- โ ุฌูุจ ุงูุฃููุงุช ุงููุดุทุฉ ููุท
- โ ุฌูุจ ุงูุฃููุงุช ุญุณุจ ุงููุฆุฉ
- โ ุชุฑุชูุจ ุงูุฃููุงุช ุญุณุจ ุงูุชุฑุชูุจ
- โ ุชุญุฏูุซ ุญุงูุฉ ูุดุงุท ุงูููุช
- โฐ ูุฏุฉ ุงูู cache: 4 ุณุงุนุงุช

### 5. **DashboardLocalDataSource** - ููุญุฉ ุงูุชุญูู
- โ ุญูุธ ุฅุญุตุงุฆูุงุช ุงููุจูุนุงุช
- โ ุญูุธ ุจูุงูุงุช ุงูุทูุจุงุช
- โ ุญูุธ ุจูุงูุงุช ุงูููุชุฌุงุช
- โ ุญูุธ ุจูุงูุงุช ุงูุฅูุฑุงุฏุงุช
- โ ุญูุธ ุจูุงูุงุช ุงูุนููุงุก
- โฐ ูุฏุฉ ุงูู cache: 30 ุฏูููุฉ

## ๐ ููููุฉ ุงูุงุณุชุฎุฏุงู

### 1. **ุงูุญุตูู ุนูู Local DataSource**
```dart
final productLocalDataSource = getIt<ProductLocalDataSource>();
final categoryLocalDataSource = getIt<CategoryLocalDataSource>();
```

### 2. **ุญูุธ ุงูุจูุงูุงุช ูุญููุงู**
```dart
// ุญูุธ ุงูููุชุฌุงุช
await productLocalDataSource.saveProducts(products);

// ุญูุธ ุงููุฆุงุช
await categoryLocalDataSource.saveMainCategories(categories);
```

### 3. **ุฌูุจ ุงูุจูุงูุงุช ูู ุงูุชุฎุฒูู ุงููุญูู**
```dart
// ุฌูุจ ุงูููุชุฌุงุช
final products = await productLocalDataSource.getProducts();

// ุฌูุจ ุงููุฆุงุช ุงููุดุทุฉ
final activeCategories = await categoryLocalDataSource.getActiveMainCategories();
```

### 4. **ุงูุชุญูู ูู ูุฌูุฏ ุจูุงูุงุช ูุญููุฉ**
```dart
// ุงูุชุญูู ูู ูุฌูุฏ ููุชุฌุงุช
final hasProducts = await productLocalDataSource.hasProducts();

// ุงูุชุญูู ูู ูุฌูุฏ ูุฆุงุช
final hasCategories = await categoryLocalDataSource.hasCategories();
```

### 5. **ุงูุจุญุซ ูู ุงูุจูุงูุงุช ุงููุญููุฉ**
```dart
// ุงูุจุญุซ ูู ุงูููุชุฌุงุช
final searchResults = await productLocalDataSource.searchProducts("ุจูุชุฒุง");

// ุงูุจุญุซ ูู ุงููุฆุงุช
final categoryResults = await categoryLocalDataSource.searchMainCategories("ุญูููุงุช");
```

### 6. **ุชุญุฏูุซ ุงูุจูุงูุงุช**
```dart
// ุชุญุฏูุซ ุญุงูุฉ ุชููุฑ ููุชุฌ
await productLocalDataSource.updateProductAvailability("1", false);

// ุชุญุฏูุซ ุญุงูุฉ ูุดุงุท ูุฆุฉ
await categoryLocalDataSource.updateCategoryActivity("1", true);
```

### 7. **ูุณุญ ุงูุจูุงูุงุช**
```dart
// ูุณุญ ุฌููุน ุงูููุชุฌุงุช
await productLocalDataSource.clearAllProducts();

// ูุณุญ ุฌููุน ุงููุฆุงุช
await categoryLocalDataSource.clearAllCategories();
```

## ๐ ุงุณุชุฑุงุชูุฌูุฉ ุงูู Cache

### **ูุฏุฉ ุตูุงุญูุฉ ุงูู Cache:**
- **Dashboard**: 30 ุฏูููุฉ (ุจูุงูุงุช ูุชุบูุฑุฉ ุจุณุฑุนุฉ)
- **Products**: 2 ุณุงุนุฉ (ููุชุฌุงุช ุซุงุจุชุฉ ูุณุจูุงู)
- **Menu**: 2 ุณุงุนุฉ (ููุงุฆู ุซุงุจุชุฉ ูุณุจูุงู)
- **Categories**: 3 ุณุงุนุงุช (ูุฆุงุช ุซุงุจุชุฉ)
- **Meal Times**: 4 ุณุงุนุงุช (ุฃููุงุช ุซุงุจุชุฉ)

### **ุขููุฉ ุงูุชุญูู ูู ุงูุตูุงุญูุฉ:**
```dart
// ุงูุชุญูู ูู ุตูุงุญูุฉ ุงูู cache
final isValid = await productLocalDataSource.hasProducts();
if (isValid) {
  // ุงุณุชุฎุฏุงู ุงูุจูุงูุงุช ุงููุญููุฉ
  final products = await productLocalDataSource.getProducts();
} else {
  // ุฌูุจ ุงูุจูุงูุงุช ูู ุงูุฎุงุฏู
  final products = await remoteDataSource.getProducts();
  // ุญูุธ ุงูุจูุงูุงุช ูุญููุงู
  await localDataSource.saveProducts(products);
}
```

## ๐ ุฅุฏุงุฑุฉ ุงูุจูุงูุงุช

### **Box Names:**
- ุฌููุน ุงูุจูุงูุงุช ูุญููุธุฉ ูู `admin_cache` box
- ูู ููุน ุจูุงูุงุช ูู ููุชุงุญ ูุฑูุฏ

### **Data Keys:**
- `products` - ุงูููุชุฌุงุช
- `main_categories` - ุงููุฆุงุช ุงูุฑุฆูุณูุฉ
- `sub_categories` - ุงููุฆุงุช ุงููุฑุนูุฉ
- `menu_items` - ุนูุงุตุฑ ุงููุงุฆูุฉ
- `menu_categories` - ูุฆุงุช ุงููุงุฆูุฉ
- `meal_times` - ุฃููุงุช ุงููุฌุจุงุช
- `dashboard_sales_stats` - ุฅุญุตุงุฆูุงุช ุงููุจูุนุงุช
- `dashboard_orders_data` - ุจูุงูุงุช ุงูุทูุจุงุช
- `dashboard_products_data` - ุจูุงูุงุช ุงูููุชุฌุงุช
- `dashboard_revenue_data` - ุจูุงูุงุช ุงูุฅูุฑุงุฏุงุช
- `dashboard_customers_data` - ุจูุงูุงุช ุงูุนููุงุก

## ๐๏ธ ุงูุชูุงูู ูุน Repository Pattern

### **Repository Implementation:**
```dart
class ProductRepositoryImpl implements ProductRepository {
  final ProductRemoteDataSource remoteDataSource;
  final ProductLocalDataSource localDataSource;

  @override
  Future<List<Product>> getProducts() async {
    // ุงูุชุญูู ูู ูุฌูุฏ ุจูุงูุงุช ูุญููุฉ
    if (await localDataSource.hasProducts()) {
      return localDataSource.getProducts();
    }
    
    // ุฌูุจ ุงูุจูุงูุงุช ูู ุงูุฎุงุฏู
    final products = await remoteDataSource.getProducts();
    
    // ุญูุธ ุงูุจูุงูุงุช ูุญููุงู
    await localDataSource.saveProducts(products);
    
    return products;
  }
}
```

## ๐ Logging

ุฌููุน ุงูุนูููุงุช ูุณุฌูุฉ ูุน ุฑููุฒ ุชุนุจูุฑูุฉ:
- ๐พ **ุญูุธ ุงูุจูุงูุงุช**
- ๐ฅ **ุฌูุจ ุงูุจูุงูุงุช**
- ๐ **ุงูุจุญุซ**
- ๐๏ธ **ูุณุญ ุงูุจูุงูุงุช**
- ๐ **ุชุญุฏูุซ ุงูุจูุงูุงุช**
- โ **ุงูุฃุฎุทุงุก**

## โก ุงููุฒุงูุง

1. **ุณุฑุนุฉ ุงูุงุณุชุฌุงุจุฉ** - ุงูุจูุงูุงุช ูุชุงุญุฉ ููุฑุงู
2. **ุชูููุฑ ุงูุจูุงูุงุช** - ุชูููู ุงุณุชููุงู ุงูุฅูุชุฑูุช
3. **ุงูุนูู ุจุฏูู ุฅูุชุฑูุช** - ุฅููุงููุฉ ุงูุนูู offline
4. **ุฅุฏุงุฑุฉ ุฐููุฉ ููู cache** - ุตูุงุญูุฉ ูุญุฏุฏุฉ ููู ููุน ุจูุงูุงุช
5. **ุณูููุฉ ุงูุงุณุชุฎุฏุงู** - ูุงุฌูุฉ ุจุณูุทุฉ ููุงุถุญุฉ
6. **ุงูุชูุงูู ุงูุณูุณ** - ูุน Repository Pattern
7. **Logging ุดุงูู** - ูุชุชุจุน ุงูุนูููุงุช
8. **ุฅุฏุงุฑุฉ ุงูุฃุฎุทุงุก** - ูุนุงูุฌุฉ ุดุงููุฉ ููุฃุฎุทุงุก

## ๐ฏ ุงูุงุณุชุฎุฏุงู ุงูุฃูุซู

1. **ุงุณุชุฎุฏู ุงูุจูุงูุงุช ุงููุญููุฉ ุฃููุงู** - ููุณุฑุนุฉ
2. **ุญุฏูุซ ุงูุจูุงูุงุช ุจุงูุชุธุงู** - ููุญูุงุธ ุนูู ุงูุชุญุฏูุซ
3. **ุงูุณุญ ุงูู cache ุนูุฏ ุงูุญุงุฌุฉ** - ูุชุญุฑูุฑ ุงููุณุงุญุฉ
4. **ุฑุงูุจ ุงูู logs** - ูุชุชุจุน ุงูุนูููุงุช
5. **ุชุนุงูู ูุน ุงูุฃุฎุทุงุก** - ูุถูุงู ุงูุงุณุชูุฑุงุฑ

---

**ุชู ุฅูุดุงุก ูุธุงู ุชุฎุฒูู ูุญูู ุดุงูู ููุชูุฏู ูุฌููุน ุตูุญุงุช ุงูุฅุฏุงุฑุฉ ุจุงุณุชุฎุฏุงู Hive! ๐** 